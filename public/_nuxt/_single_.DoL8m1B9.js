import{_ as ge}from"./Cta.BvZR80B0.js";import{r as n,o as _,c as v,a,t as b,b as B,_ as Z,C as ee,i as te,k as E,T as xe,l as K,G as ae,F as se,q as re,m as oe,n as le,p as ne,f as ie,d as he,s as Q,x as M,y as ye,j as ce,w as _e,e as ve,z as we,B as G,J as be,u as ke,g as $e,h as Se,H as Ie}from"./entry.BxA1UaYp.js";import{_ as de}from"./NuxtPicture.vue.qRJyAh4F.js";import{d as C}from"./projects.BAYTZuxw.js";const Te={ref:"title",class:"primary font-saf-ri text-lg2 ds:text-xl"},Pe={__name:"MainInfo",props:{data:{type:Object,default:()=>{}}},setup(t,{expose:$}){const c=n(null),r=n(null),e=n(null),w=n(null);return $({titleFirst:c,titleSecond:r,description:e,link:w}),(S,u)=>{var d,m,y,o;const x=ge;return _(),v("div",null,[a("h1",Te,[a("span",{ref_key:"titleFirst",ref:c,class:"block"},b((d=t.data)==null?void 0:d.title.first),513),a("span",{ref_key:"titleSecond",ref:r,class:"block"},b((m=t.data)==null?void 0:m.title.second),513)],512),a("p",{ref_key:"description",ref:e,class:"secondary text-xs max-ds:leading-[1.2] ds:text-md2 w-[20rem] ds:w-[30rem] font-saf-r mt-10 ml-[0.2rem] ds:ml-10 ds:mt-60"},b((y=t.data)==null?void 0:y.description),513),B(x,{ref_key:"link",ref:w,link:(o=t.data)==null?void 0:o.link,label:"Visit",target:"_blank",class:"mt-15 ml-[0.2rem] ds:ml-10 ds:mt-40"},null,8,["link"])])}}},me=t=>(ne("data-v-7123a2b0"),t=t(),ie(),t),Me={id:"smooth-wrapper"},Ne={id:"smooth-content"},je=["data-flip-id"],ze=me(()=>a("circle",{cx:"140",cy:"140",r:"139.5",class:"stroke-primary | circle-progress"},null,-1)),De=me(()=>a("circle",{class:"stroke-border | circle__border",cx:"140",cy:"140",r:"139.5"},null,-1)),Oe=[ze,De],Be={__name:"GalleryScroll",props:{data:{type:Object,default:()=>{}},imagesPath:{type:String,default:""}},setup(t,{expose:$}){const{$ScrollSmoother:c,$gsap:r,$Flip:e,$ScrollTrigger:w,$Draggable:S,$InertiaPlugin:u}=oe(),{transitionState:x}=le(),d=n(null),m=n(null),y=n(null),o=n(null),g=n(null),h=n([]);$({galleryItem:h,progressWrp:y,progress:d,circle:o,gallery:g});const k=r.matchMedia(),i=1024,{playSoundDirectly:L}=ee();return te(()=>x.transitionComplete,(N,q)=>{if(N!==q){if(!m.value)return;k.add({isDesktop:`(min-width: ${i}px)`,isMobile:`(max-width: ${i-1}px)`,isTouch:"(hover: none), (pointer: coarse)"},j=>{const{isDesktop:f,isMobile:z,isTouch:A}=j.conditions,D=c.create({smooth:1,effects:!1,normalizeScroll:!0,smoothTouch:!0,preventDefault:!0,onUpdate:p=>{o.value&&(r.set(o.value,{"--dashOffset":880-880*p.progress}),r.set(d.value,{innerHTML:Math.round(p.progress*100)+"%"}))}});if(setTimeout(()=>{D.scrollTop(0)},100),r.set(d.value,{innerHTML:"0%",delay:.2}),z){let p,O;const R=r.utils.toArray(".item"),V=R.length,U=1/(V-1),Y=r.utils.snap(U),fe=(T,P)=>{const H=Y(T);return H-T<0==P<0?H:Y(P<0?T-U:T+U)},F=r.to(R,{xPercent:"-="+(V-1)*100,duration:1,ease:"none",paused:!0}),pe=u.track(F,"progress")[0],W=new S(document.createElement("div"),{type:"x",trigger:m.value,onPress(){r.killTweensOf(F),this.startProgress=F.progress()},onDrag(){const T=(W.startX-W.x)/O,P=W.startProgress+T,H=Math.min(Math.max(P,0),1);F.progress(H);const X=Math.round(H*100);r.set(d.value,{innerHTML:X+"%"}),r.set(o.value,{"--dashOffset":880-880*(X/100)})},onRelease(){const T=pe.get("progress");r.to(F,{inertia:{duration:{min:.5,max:2},progress:{velocity:T,min:0,max:1,end:P=>fe(P,T)}},overwrite:!0,onUpdate:()=>{const P=Math.round(F.progress()*100);r.set(d.value,{innerHTML:P+"%"}),r.set(o.value,{"--dashOffset":880-880*(P/100)})}})}}),J=()=>{p=R[0].offsetWidth,O=p*V};J(),window.addEventListener("resize",J)}Array.from(g.value.querySelectorAll(".lazy-image")).forEach(p=>{function O(){p.classList.add("loaded")}p.complete?O():p.addEventListener("load",O)});const s=g.value.querySelectorAll(".item");if(E().value||document.querySelector(".cloned")&&document.querySelector(".cloned").remove(),!E().value)return;const I=e.from(E().value,{targets:s[0],duration:1.2,z:0,ease:"power3.out",onStart:()=>{A||L(xe),document.querySelector(".cloned")&&document.querySelector(".cloned").remove(),setTimeout(()=>{E().value=!1},200)}});I.fromTo(s[0],{"--borderRadius":f?"20rem":"10rem"},{"--borderRadius":"2rem",duration:.6,ease:"sine.out"},0),I.to(g.value,{"--scaleBg":.99,duration:.3,ease:"sine.out"},.7),s.forEach((p,O)=>{O>0&&w.isInViewport(p)&&I.fromTo(p,{opacity:0,yPercent:f?20:0,xPercent:f?0:20},{opacity:1,duration:1,yPercent:0,xPercent:0,ease:"power3.out"},.4+O*.1)})})}}),K(()=>{k.revert()}),(N,q)=>{const j=de;return _(),v("section",Me,[a("div",Ne,[a("div",{ref_key:"galleryScroll",ref:m,style:ae(`--color2: ${t.data.colors.color2};`),class:"gallery-scroll mt-[27rem] ds:mt-0"},[a("div",{ref_key:"gallery",ref:g,class:"gallery max-ds:px-20 ds:pt-[14rem] ds:pb-40 max-ds:flex max-ds:flex-nowrap max-ds:w-fit"},[(_(!0),v(se,null,re(t.data.gallery,(f,z)=>(_(),v("div",{key:z,ref_for:!0,ref_key:"galleryItem",ref:h,"data-flip-id":t.data.id+z,class:"item w-[30rem] h-[17rem] max-ds:shrink-0 max-ds:mr-10 last:max-ds:-mr-0 ds:mx-auto ds:w-[80rem] ds:h-[46rem] ds:mb-50 last:mb-0 ds:px-0 flex items-center"},[B(j,{src:`${t.data.imagesPath}/single/${f.image}`,sizes:"(max-width: 600px) 480px, 1024px",quality:100,class:"w-full h-full",loading:"lazy","img-attrs":{class:"lazy-image w-full h-full object-cover rounded-[var(--borderRadius)]",alt:f.alt}},null,8,["src","img-attrs"])],8,je))),128))],512)],4)]),a("div",{ref_key:"progressWrp",ref:y,class:"gallery-progress opacity-100 w-[13.5rem] h-[13.5rem] ds:w-[28rem] ds:h-[28rem] fixed left-20 bottom-20 ds:left-80 ds:bottom-40 flex text-center uppercase justify-center items-center z-[10]"},[a("span",{ref_key:"progress",ref:d,class:"primary font-saf-m text-[4rem] ds:text-[8rem] tracking-tighter leading-[0.8] block"},"0%",512),(_(),v("svg",{ref_key:"circle",ref:o,width:"280",height:"280",viewBox:"0 0 280 280",fill:"none",class:"circle w-full h-full ds:w-[28rem] ds:h-[28rem] absolute left-0 top-0 z-[0]"},Oe,512))],512)])}}},Le=Z(Be,[["__scopeId","data-v-7123a2b0"]]),Ce={class:"w-[14rem] ds:w-[28.2rem]"},Ee={class:"primary font-saf-m uppercase text-[3rem] max-ds:leading-[0.8] ds:text-lg mb-20 ds:mb-40 flex items-center"},qe={class:"text-xxs ds:text-xs uppercase"},Ae={key:0,class:"secondary flex flex-wrap"},Fe={key:0,class:"mx-[0.4rem]"},He={class:"flex ds:flex-col"},Re={class:"text-xxs mr-20 ds:mr-0 ds:text-xs uppercase mt-10"},Ve={class:"text-xxs ds:text-xs uppercase mt-10"},Ue={class:"text-xxs ds:text-xs uppercase mt-10"},We={__name:"Meta",props:{data:{type:Object,default:()=>{}}},setup(t,{expose:$}){const c=n(null),r=n(null),e=n(null),w=n(null),S=n([]),u=n([]);return $({leftNumber:c,sep:r,rightNumber:e,listItem:u,roleTitle:w,roleItem:S}),(x,d)=>{var m,y,o,g,h,k;return _(),v("aside",Ce,[a("div",Ee,[a("span",{ref_key:"leftNumber",ref:c},b((m=t.data)==null?void 0:m.number),513),a("span",{ref_key:"sep",ref:r,class:"w-[3.6rem] h-[1px] ds:w-[6.4rem] ds:h-[3px] -rotate-45 bg-border mx-0"},null,512),a("span",{ref_key:"rightNumber",ref:e},"0"+b((y=t.data)==null?void 0:y.total),513)]),a("div",qe,[a("p",{ref_key:"roleTitle",ref:w,class:"primary font-saf-m mb-[0.2rem]"},"Role",512),t.data?(_(),v("div",Ae,[(_(!0),v(se,null,re((o=t.data.meta)==null?void 0:o.role,(i,L)=>{var N;return _(),v("span",{key:L,ref_for:!0,ref_key:"roleItem",ref:S,class:"block !ds:leading-[1.2]"},[he(b(i),1),L<((N=t.data)==null?void 0:N.meta.role.length)-1?(_(),v("span",Fe,"/")):Q("",!0)])}),128))])):Q("",!0)]),a("div",He,[a("div",Re,[a("p",{ref:i=>M(u).push(i),class:"primary font-saf-m mb-[0.2rem]"},"Agency",512),a("p",{ref:i=>M(u).push(i),class:"secondary"},b((g=t.data.meta)==null?void 0:g.agency),513)]),a("div",Ve,[a("p",{ref:i=>M(u).push(i),class:"primary font-saf-m mb-[0.2rem]"},"Year",512),a("p",{ref:i=>M(u).push(i),class:"secondary"},b((h=t.data.meta)==null?void 0:h.year),513)])]),a("div",Ue,[a("p",{ref:i=>M(u).push(i),class:"primary font-saf-m mb-[0.2rem]"},"Awards",512),a("p",{ref:i=>M(u).push(i),class:"secondary"},b((k=t.data.meta)==null?void 0:k.awards),513)])])}}},ue=t=>(ne("data-v-780799b7"),t=t(),ie(),t),Ge=["data-flip-id"],Ke=["href","data-url"],Ye={class:"next-content flex items-start justify-between w-full h-full flex-col absolute top-0 left-0 uppercase"},Je={class:"flex w-full items-center justify-between"},Xe={class:"text-[1rem] max-ds:tracking-tighter max-ds:leading-[0.9] ds:text-xs"},Qe=ue(()=>a("span",{class:"bg-secondary w-[0.4rem] h-[0.4rem] rounded-full shrink-0"},null,-1)),Ze={class:"flex w-full items-center justify-between"},et=ue(()=>a("span",{class:"bg-secondary w-[0.4rem] h-[0.4rem] rounded-full shrink-0"},null,-1)),tt={class:"text-[1rem] max-ds:leading-[0.9] max-ds:tracking-tighter ds:text-xs"},at={__name:"NextProject",props:{data:{type:Object,default:()=>{}},imagesPath:{type:String,default:""}},setup(t,{expose:$}){const c=n(null),r=n(null);$({nextProject:c,nextImage:r});const e=ye(),w=x=>{const d=x.currentTarget.dataset.url;e.setUrl("/single-project"),G({path:d})};function S(x){var m;const d=(m=c.value)==null?void 0:m.querySelector("a").dataset.url;x.code==="ArrowRight"&&(e.setUrl("/single-project"),G({path:d}))}function u(x){S(x)}return ce(()=>{window.addEventListener("keydown",u)}),K(()=>{window.removeEventListener("keydown",u)}),(x,d)=>{const m=de,y=ve;return _(),v("div",{ref_key:"nextProject",ref:c,"data-next-project":"","data-flip-id":t.data.id},[B(y,{to:{name:"projects-single",params:{single:t.data.slug}},custom:""},{default:_e(({href:o})=>[a("a",{href:o,"data-image":"","data-url":o,class:"next-project block w-[14rem] h-[14rem] ds:w-[28rem] ds:h-[28rem] rounded-full pointer-events-auto overflow-hidden",style:ae(`background-color: rgba(${t.data.mainInfo.colors.colorHover}, var(--alphaBg));`),onClick:we(w,["prevent"])},[a("div",Ye,[a("div",Je,[a("span",Xe,"N. "+b(t.data.number),1),Qe]),a("div",Ze,[et,a("span",tt,"Y. "+b(t.data.meta.year),1)])]),B(m,{ref_key:"nextImage",ref:r,src:`${t.imagesPath}/${t.data.mainInfo.cover.image}`,sizes:"mobile:50vw",quality:100,class:"image rounded-full w-full h-full pointer-events-none relative overflow-hidden","img-attrs":{class:"rounded-full object-cover w-full h-full to-load pointer-events-none",alt:t.data.mainInfo.cover.altImage}},null,8,["src","img-attrs"])],12,Ke)]),_:1},8,["to"])],8,Ge)}}},st=Z(at,[["__scopeId","data-v-780799b7"]]),it={__name:"[single]",setup(t){const{transitionState:$}=le(),{$gsap:c}=oe(),r=be(),e=C.projects.find(f=>f.slug===r.params.single);e||G("/404");const w=C.projects.findIndex(f=>f.slug===r.params.single),S=C.projects[(w+1)%C.projects.length];ke({title:`${e==null?void 0:e.seoTitle} | Federico Pian - Creative Developer`,meta:[{name:"description",content:"Federico Pian is a creative developer and co-founder at Overpx Studio"}]});const u={imagesPath:C.imagesPath,gallery:e==null?void 0:e.gallery,id:e==null?void 0:e.id,colors:{color1:e==null?void 0:e.mainInfo.colors.color1,color2:e==null?void 0:e.mainInfo.colors.colorHover,colorBg:e==null?void 0:e.mainInfo.colors.colorHover}},x={meta:e==null?void 0:e.meta,number:e==null?void 0:e.number,total:C.projects.length},d=$e(),m=Se(),{setupSoundInteraction:y}=ee(),o=n(null),g=n(null),h=n(null),k=n(null),i=n(null);let L=!1;const N=(f,z,A,D)=>{L=!0;const l=c.timeline({defaults:{duration:.8,ease:"power3.out"},onComplete:()=>{if(!k.value)return;const p=k.value.$el.querySelector(".next-project");p.classList.add("is-hover"),y(p,"mouseenter",Ie)}}),s=(E().value,0),I=o.value.circle;c.set(I,{"--dashOffset":880}),l.fromTo(I,{"--dashOffsetBorder":880},{"--dashOffsetBorder":0},s+.2),l.clipTitle(g.value.titleFirst,{duration:.8},s),l.clipTitle(g.value.titleSecond,{duration:.8},s+.1),l.clipDescription(g.value.description,{duration:.8},s+.2),l.from(g.value.link.$el,{yPercent:100,opacity:0},s+.3),l.clipTitle(h.value.leftNumber,{duration:.8},s),l.from(h.value.sep,{scale:0,willChange:"transform"},s+.05),l.clipTitle(h.value.rightNumber,{duration:.8},s+.1),l.clipText(h.value.roleTitle,{duration:.8},s+.1),l.clipText(h.value.roleItem,{duration:.8,stagger:.05},s+.15),l.clipText(h.value.listItem,{duration:.8,stagger:.05},s+.2),l.from(o.value.progress,{opacity:0},s+.6),l.from(k.value.$el,{scale:.9,opacity:0},s+.4),E().value||(l.fromTo(o.value.gallery,{"--opacityGradient":0,"--opacityBg":1},{"--opacityGradient":1,"--opacityBg":0,duration:.6,ease:"sine.out"},s+.2),l.fromTo(o.value.galleryItem,{y:D?100:0,x:D?0:100,opacity:0},{y:0,x:0,opacity:1,stagger:.1},s+.2)),E().value||l.fromTo(o.value.progressWrp,{opacity:0},{opacity:1},s+.2)},q=c.matchMedia(),j=1024;return te(()=>[m.isLoaded,$.transitionComplete],([f,z],[A,D])=>{if(f!==A&&(c.to(document.documentElement,{"--opacity":1,duration:.5,ease:"power2.inOut"}),q.add({isDesktop:`(min-width: ${j}px)`,isMobile:`(max-width: ${j-1}px)`},l=>{const{isDesktop:s}=l.conditions;i.value&&(c.set(i.value,{opacity:1}),N("power3.out",1,!1,s))})),z!==D){if(!o.value)return;q.add({isDesktop:`(min-width: ${j}px)`,isMobile:`(max-width: ${j-1}px)`},l=>{const{isDesktop:s}=l.conditions;i.value&&(c.set(document.documentElement,{"--color-primary":`rgba(${e.mainInfo.colors.colorPrimary})`,"--color-secondary":`rgba(${e.mainInfo.colors.colorSecondary})`,"--color-border":`rgba(${e.mainInfo.colors.colorBorder})`}),L||(c.set(i.value,{opacity:1}),N("power3.out",1,!1,s)))})}}),ce(()=>{e&&d.setColor(e.mainInfo.colors.color1.split(","),e.mainInfo.colors.color2.split(","),e.mainInfo.colors.colorBg.split(","))}),K(()=>{q.revert()}),(f,z)=>{var I;const A=Pe,D=Le,l=We,s=st;return _(),v("div",{ref_key:"singlePage",ref:i,class:"max-ds:position-fixed max-ds:overflow-hidden top-0 left-0 w-full h-dvh opacity-0"},[B(A,{ref_key:"mainInfo",ref:g,data:(I=M(e))==null?void 0:I.mainInfo,class:"fixed z-[1] top-[7rem] left-20 ds:left-[7.2rem] ds:top-[14rem]"},null,8,["data"]),B(D,{ref_key:"gallery",ref:o,data:u},null,512),B(l,{ref_key:"meta",ref:h,data:x,class:"fixed top-[7.3rem] right-0 ds:right-80 ds:top-[14rem]"},null,512),B(s,{ref_key:"nextProject",ref:k,data:M(S),"images-path":M(C).imagesPath,class:"fixed right-20 bottom-20 ds:right-80 ds:bottom-40"},null,8,["data","images-path"])],512)}}};export{it as default};
